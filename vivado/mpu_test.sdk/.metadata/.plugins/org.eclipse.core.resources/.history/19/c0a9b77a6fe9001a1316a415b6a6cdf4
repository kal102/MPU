/*
 * km_axis.h
 *
 *  Created on: 28.08.2020
 *      Author: Kacper
 */

#ifndef SRC_KM_AXIS_H_
#define SRC_KM_AXIS_H_

#include "mb_interface.h"

#define MAX_COUNT 1000
#define BUFFER_SIZE 16

/* MPU commands */
#define CMD_NONE     0
#define CMD_LOAD     1
#define CMD_MULTIPLY 2

/* Buffer */
#define BUFFER_A 0
#define BUFFER_B 1

/* Activation functions */
#define ACTIVATION_NONE 0
#define ACTIVATION_RELU 1

/* Pooling functions */
#define POOLING_NONE 0
#define POOLING_MAX  1

/* Frame types */
#define FRAME_NONE      0
#define FRAME_DATA      1
#define FRAME_ERR_DIM   3
#define FRAME_ERR_CMD   2
#define FRAME_ERR_FRAME 6

//static void inline write_axis(volatile unsigned int *a);

void read_axis (volatile unsigned int *a);
void LoadBuffer(unsigned int buffer, unsigned int rows, unsigned int columns, volatile unsigned int *a);
void Multiply(void);
u8

#endif /* SRC_KM_AXIS_H_ */
