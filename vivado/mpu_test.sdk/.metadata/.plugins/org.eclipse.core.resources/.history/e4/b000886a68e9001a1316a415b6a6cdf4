/*
 * km_gpio.c
 *
 *  Created on: 28.08.2020
 *      Author: Kacper
 */
#include "xparameters.h"
#include "xgpio.h"


#define CORDIC_IP_S00_AXI_SLV_REG0_OFFSET 0
#define CORDIC_IP_S00_AXI_SLV_REG1_OFFSET 4
/**************************** user definitions ********************************/
#define CHANNEL 1

//Cordic processor registers' offset redefinition
#define CONTROL_REG_OFFSET CORDIC_IP_S00_AXI_SLV_REG0_OFFSET
#define LED_REG_OFFSET CORDIC_IP_S00_AXI_SLV_REG1_OFFSET

/***************************** Other functions *******************************/

u8 init(XGpio *ledGpio)
{
	int status;
	int32_t dupa;

	/* Initialize driver for the input angle GPIOe */
	status = XGpio_Initialize(ledGpio, XPAR_AXI_GPIO_0_DEVICE_ID);
	if (status != XST_SUCCESS) {
		return 1;
	}
	XGpio_SetDataDirection(ledGpio, CHANNEL, 0x000);
	dupa = 0x003s;
	XGpio_DiscreteWrite(ledGpio, CHANNEL, dupa);
	return 0;
}
